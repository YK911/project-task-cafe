{"version":3,"file":"main-Dmluyphx.js","sources":["../../src/js/subscribe.js","../../src/js/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst form = document.getElementById('subscribtionForm');\nconst formEmail = form.querySelector('input[name=\"email\"]');\nconst formBtn = document.getElementById('subscribtionFormBtn');\n\nconst isValidEmail = (email) => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n};\n\nconst validation = () => {\n  const emailValue = formEmail.value.trim();\n  const isValid = isValidEmail(emailValue);\n  const whiteColor = getComputedStyle(\n    document.documentElement,\n  ).getPropertyValue('--color-white');\n\n  if (isValid) {\n    formEmail.style.borderColor = whiteColor;\n    formBtn.disabled = false;\n  } else {\n    if (emailValue === '') {\n      formEmail.style.borderColor = whiteColor;\n    } else {\n      formEmail.style.borderColor = 'red';\n    }\n    formBtn.disabled = true;\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', validation);\nformEmail.addEventListener('input', validation);\n\nconst subscribe = async (e) => {\n  e.preventDefault();\n\n  try {\n    formBtn.disabled = true;\n\n    const response = await axios.post(\n      'https://your-energy.b.goit.study/api/subscription',\n      JSON.stringify({ email: formEmail.value.trim() }),\n      {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      },\n    );\n\n    form.reset();\n    console.log('Successful operation:', response.status, response.statusText);\n  } catch (err) {\n    if (err.response) {\n      if (err.response.status === 409) {\n        form.reset();\n        console.log(\n          'Subscription already exists:',\n          err.response.status,\n          err.response.statusText,\n        );\n      } else {\n        console.log(\n          'Server Error:',\n          err.response.status,\n          err.response.statusText,\n        );\n      }\n    } else {\n      console.log('Error:', err.message);\n    }\n  }\n};\n\nform.addEventListener('submit', subscribe);\n","import 'the-new-css-reset/css/reset.css';\nimport '../styles/main.css';\nimport './subscribe';\n\nconsole.log('Working âœ¨');\n"],"names":["form","formEmail","formBtn","isValidEmail","email","validation","emailValue","isValid","whiteColor","subscribe","e","response","axios","err"],"mappings":"+uBAEA,MAAMA,EAAO,SAAS,eAAe,kBAAkB,EACjDC,EAAYD,EAAK,cAAc,qBAAqB,EACpDE,EAAU,SAAS,eAAe,qBAAqB,EAEvDC,EAAgBC,GACD,6BACD,KAAKA,CAAK,EAGxBC,EAAa,IAAM,CACvB,MAAMC,EAAaL,EAAU,MAAM,KAAI,EACjCM,EAAUJ,EAAaG,CAAU,EACjCE,EAAa,iBACjB,SAAS,eACb,EAAI,iBAAiB,eAAe,EAE9BD,GACFN,EAAU,MAAM,YAAcO,EAC9BN,EAAQ,SAAW,KAEfI,IAAe,GACjBL,EAAU,MAAM,YAAcO,EAE9BP,EAAU,MAAM,YAAc,MAEhCC,EAAQ,SAAW,GAEvB,EAEA,SAAS,iBAAiB,mBAAoBG,CAAU,EACxDJ,EAAU,iBAAiB,QAASI,CAAU,EAE9C,MAAMI,EAAY,MAAOC,GAAM,CAC7BA,EAAE,eAAc,EAEhB,GAAI,CACFR,EAAQ,SAAW,GAEnB,MAAMS,EAAW,MAAMC,EAAM,KAC3B,oDACA,KAAK,UAAU,CAAE,MAAOX,EAAU,MAAM,KAAI,EAAI,EAChD,CACE,QAAS,CACP,eAAgB,kBACjB,CACF,CACP,EAEID,EAAK,MAAK,EACV,QAAQ,IAAI,wBAAyBW,EAAS,OAAQA,EAAS,UAAU,CAC1E,OAAQE,EAAK,CACRA,EAAI,SACFA,EAAI,SAAS,SAAW,KAC1Bb,EAAK,MAAK,EACV,QAAQ,IACN,+BACAa,EAAI,SAAS,OACbA,EAAI,SAAS,UACvB,GAEQ,QAAQ,IACN,gBACAA,EAAI,SAAS,OACbA,EAAI,SAAS,UACvB,EAGM,QAAQ,IAAI,SAAUA,EAAI,OAAO,CAEpC,CACH,EAEAb,EAAK,iBAAiB,SAAUS,CAAS,ECtEzC,QAAQ,IAAI,WAAW"}