import{a as d,h,i as m}from"./vendor-CtRQQMrb.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const D=9,M=12,x="blockquote_cache",w="YYYY-MM-DD";function $(e,o){const t=document.querySelector("#exercise-category-template").content.cloneNode(!0);return t.querySelector("h3").textContent=e.name,t.querySelector("p").textContent=e.filter,t.querySelector(".exercise-category").style.backgroundImage=`url(${e.imgURL})`,o&&t.querySelector(".exercise-category").addEventListener("click",()=>o(e)),t}function p(e){const t=e.charAt(0).toUpperCase(),s=e.slice(1);return t+s}async function F(e){return(await d.get(`https://your-energy.b.goit.study/api/exercises/${e}`)).data}function R(e){const o="#excercise-card-detail-template",t=[],s=document.querySelector(o).content.cloneNode(!0);s.querySelector(".card-details-title").textContent="Burned Calories:",s.querySelector(".card-details-value").textContent=`${e.burnedCalories} / ${e.time} min`,t.push(s);const r=document.querySelector(o).content.cloneNode(!0);r.querySelector(".card-details-title").textContent="Body Part:",r.querySelector(".card-details-value").textContent=e.bodyPart[0].toUpperCase()+e.bodyPart.slice(1),t.push(r);const n=document.querySelector(o).content.cloneNode(!0);return n.querySelector(".card-details-title").textContent="Target:",n.querySelector(".card-details-value").textContent=e.target[0].toUpperCase()+e.target.slice(1),t.push(n),t}function _(e){const t=document.querySelector("#excercise-card-template").content.cloneNode(!0),s="_id";t.children[0].dataset.id=e[s],t.querySelector(".card-category").textContent=e.bodyPart,t.querySelector(".rating-value").textContent=e.rating.toFixed(1),t.querySelector(".start-button").addEventListener("click",a=>{a.preventDefault()}),t.querySelector(".card-title").textContent=e.name[0].toUpperCase()+e.name.slice(1);const n=t.querySelector(".card-details-list");return R(e).forEach(a=>{n.append(a)}),t}let B;function A(){document.querySelector(".loader-overlay").style.display="flex"}function v(){B=setTimeout(A,500)}function C(){clearTimeout(B),document.querySelector(".loader-overlay").style.display="none"}function k(){const e=document.getElementById("exerciseList"),o=document.getElementById("exerciseListEmpty");e&&(e.innerHTML="");const t=JSON.parse(localStorage.getItem("favorites"))||[],s=document.createDocumentFragment();if(t.length===0&&o)o.classList.remove("visually-hidden");else if(e){v();const r=t.map(n=>F(n).then(a=>_(a)));Promise.all(r).then(n=>{n.forEach(a=>{s.appendChild(a)}),C(),e.appendChild(s)})}}function U(e){const o=e.trim();if(o){const t=JSON.parse(localStorage.getItem("favorites"))||[];t.includes(o)||(t.push(o),localStorage.setItem("favorites",JSON.stringify(t)),k())}}window.onload=()=>{k()};const c={dialog:document.querySelector('[data-modal="exercise"]'),closeBtn:document.querySelector("[data-modal-close]"),favouritesBtn:document.querySelector("[data-add-favourites]"),ratingBtn:document.querySelector("[data-rating-open]"),exercisesLayout:document.querySelector("[data-exercise]")},Y=()=>c.dialog.showModal(),J=()=>c.dialog.close(),W=e=>{const t=e.currentTarget.dataset.addFavourites;U(t),console.log(`Click on favourites btn ${t}`)},V=()=>{console.log("Click on rating btn")},j=async e=>(await fetch(`https://your-energy.b.goit.study/api/exercises/${e}`)).json(),K=e=>{const{bodyPart:o,equipment:t,gifUrl:s,name:r,target:n,description:a,rating:i,burnedCalories:u,time:T,popularity:O}=e;return`<div class="modal-ill">
      <img
        src="${s}"
        alt="${r}"
        width="295"
        height="258"
        loading="lazy"
      />
    </div>
    <h2 class="modal-caption">${p(r)}</h2>
    <div class="modal-rating">
      <p>${i}</p>
      <svg width="98" height="13" id="rating-stars">
        <use style="--shift: -2" href="./assets/icons.svg#star"></use>
        <use style="--shift: -1" href="./assets/icons.svg#star"></use>
        <use style="--shift: 0" href="./assets/icons.svg#star"></use>
        <use style="--shift: 1" href="./assets/icons.svg#star"></use>
        <use style="--shift: 2" href="./assets/icons.svg#star"></use>
      </svg>
    </div>
    <ul class="modal-meta">
      <li>
        <h3 class="modal-meta-caption">Target</h3>
        <p class="modal-meta-info">${p(n)}</p>
      </li>
      <li>
        <h3 class="modal-meta-caption">Body Part</h3>
        <p class="modal-meta-info">${p(o)}</p>
      </li>
      <li>
        <h3 class="modal-meta-caption">Equipment</h3>
        <p class="modal-meta-info">${p(t)}</p>
      </li>
      <li>
        <h3 class="modal-meta-caption">Popular</h3>
        <p class="modal-meta-info">${O}</p>
      </li>
      <li>
        <h3 class="modal-meta-caption">Burned Calories</h3>
        <p class="modal-meta-info">${u}/${T} min</p>
      </li>
    </ul>
    <p class="modal-desc">${a}</p>`};async function q(e){const o=await j(e),t=K(o),s=c.dialog.querySelector(".modal-body"),r=c.dialog.querySelector(".modal-btn[data-add-favourites]");r.dataset.addFavourites=e,s.innerHTML=t,Y()}c.closeBtn&&c.closeBtn.addEventListener("click",J);c.favouritesBtn&&c.favouritesBtn.addEventListener("click",W);c.ratingBtn&&c.ratingBtn.addEventListener("click",V);c.exercisesLayout&&c.exercisesLayout.addEventListener("click",q);function Q(e){const o="#excercise-card-detail-template",t=[],s=document.querySelector(o).content.cloneNode(!0);s.querySelector(".card-details-title").textContent="Burned Calories:",s.querySelector(".card-details-value").textContent=`${e.burnedCalories} / ${e.time} min`,t.push(s);const r=document.querySelector(o).content.cloneNode(!0);r.querySelector(".card-details-title").textContent="Body Part:",r.querySelector(".card-details-value").textContent=e.bodyPart[0].toUpperCase()+e.bodyPart.slice(1),t.push(r);const n=document.querySelector(o).content.cloneNode(!0);return n.querySelector(".card-details-title").textContent="Target:",n.querySelector(".card-details-value").textContent=e.target[0].toUpperCase()+e.target.slice(1),t.push(n),t}function z(e){const t=document.querySelector("#excercise-card-template").content.cloneNode(!0),s="_id";t.children[0].dataset.id=e[s],t.querySelector(".card-category").textContent=e.bodyPart,t.querySelector(".rating-value").textContent=e.rating.toFixed(1),t.querySelector(".start-button").addEventListener("click",a=>{a.preventDefault(),q(e[s])}),t.querySelector(".card-title").textContent=e.name[0].toUpperCase()+e.name.slice(1);const n=t.querySelector(".card-details-list");return Q(e).forEach(a=>{n.append(a)}),t}function H(){return window.innerWidth<768?8:10}async function Z(e,o=1){const t={page:o,limit:H()};return t[e.filter.toLowerCase()]=e.name,(await d.get("https://your-energy.b.goit.study/api/exercises",{params:t})).data}async function I(e,o=1){v();const t=await Z(e,o);C();const s=document.querySelector(".exercises-categories,.exercises-list-container");s.classList.remove("exercises-categories"),s.classList.add("exercises-list-container"),s.innerHTML="";const r=document.createElement("ul");if(r.classList.add("exercises-cards"),t.results.forEach(n=>{const a=z(n);a.addEventListener("click",()=>{q(a)}),r.appendChild(a)}),s.appendChild(r),t.totalPages>1){const n=document.createElement("ul");n.classList.add("pagination");for(let a=1;a<=t.totalPages;a+=1){const i=document.createElement("li");i.classList.add("pagination-item"),i.textContent=a,a===t.page?i.classList.add("pagination-item-current"):i.addEventListener("click",()=>{I(e,a)}),n.appendChild(i),s.appendChild(n)}}}async function L(e,o=1,t=12){const s={params:{filter:e,page:o,limit:t}},r=JSON.stringify(s),n=sessionStorage.getItem(r);if(n)return JSON.parse(n);const a=await d.get("https://your-energy.b.goit.study/api/filters",s),{data:i}=a;return i&&sessionStorage.setItem(r,JSON.stringify(i)),i}function E(){return window.innerWidth<=375?D:M}function b(e,o){const t=document.querySelector(e);if(!t){console.log("Container not found");return}t.classList.add("exercises-categories"),t.classList.remove("exercises-list-container"),t.innerHTML="";const s=document.createElement("ul");o.forEach(r=>{const n=$(r,i=>I(i)),a=document.createElement("li");a.appendChild(n),s.appendChild(a)}),t.appendChild(s)}document.addEventListener("DOMContentLoaded",async()=>{const e=document.querySelectorAll(".exercises-filter-list li"),o=e[0].querySelector(".exercises-filter-button").textContent.trim(),t=await L(o,1,E());b(".exercises-categories, .exercises-list-container",t.results),e.forEach(s=>{s.addEventListener("click",async()=>{e.forEach(u=>{u.classList.remove("exercises-filter-item-active")}),s.classList.add("exercises-filter-item-active");const r=s.querySelector(".exercises-filter-button").textContent.trim(),n=Number(document.querySelector(".exercises-filter-current-page")||1),a=E(),i=await L(r,n,a);b(".exercises-categories, .exercises-list-container",i.results)})})});function G(){return h().utc().format(w)}function X(e,o){return h(e).utc().isSame(h(o,w).utc(),"day")}async function ee(){const e=G(),o=localStorage.getItem(x);if(o&&X(e,o.date))return JSON.parse(o).data;const t=await d.get("https://your-energy.b.goit.study/api/quote"),{data:s}=t;return console.log("dagetBlockQuoteDatata: ",s),s&&localStorage.setItem(x,JSON.stringify({data:s,date:e})),s}(async()=>{const e=await ee();(!e||!e.author||!e.quote)&&console.log("Can't retrieve fresh quote of the day data from provider's API");const o=document.querySelector(".quote-block"),t=o.querySelector(".quote-desc"),s=o.querySelector(".quote-author");t.textContent=e.quote,s.textContent=e.author})();const y=document.getElementById("subscribtionForm"),l=y.querySelector('input[name="email"]'),S=document.getElementById("subscribtionFormBtn"),te=e=>/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e),N=()=>{const e=l.value.trim();te(e)?(l.style.borderColor="",S.disabled=!1):(e===""?l.style.borderColor="":l.style.borderColor="red",S.disabled=!0)};document.addEventListener("DOMContentLoaded",N);l.addEventListener("input",N);const oe=async e=>{e.preventDefault();try{S.disabled=!0,v(),await d.post("https://your-energy.b.goit.study/api/subscription",JSON.stringify({email:l.value.trim()}),{headers:{"Content-Type":"application/json"}}),y.reset(),m.success({title:"OK",message:"You have subscribed!",position:"topRight"})}catch(o){o.response?o.response.status===409?(y.reset(),m.warning({title:"OK",message:"Subscription already exists.",position:"topRight"})):m.error({title:"Oops",message:o.response.statusText,position:"topRight"}):m.error({title:"Oops",message:o.message,position:"topRight"})}finally{C()}};y.addEventListener("submit",oe);const P=document.querySelector(".js-menu-backdrop"),se=document.querySelector(".js-open-menu"),re=document.querySelector(".js-close-menu"),ne=document.querySelector(".js-menu-link");function f(){P.classList.toggle("is-hidden")}function ae(e){if(window.location.href===e.target.href){e.preventDefault();return}f()}function ie({target:e}){e.closest("#mob-menu")||f()}se.addEventListener("click",f);re.addEventListener("click",f);ne.addEventListener("click",ae);P.addEventListener("click",ie);const g=document.getElementById("scrollBtn");g.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),g.blur()});window.addEventListener("scroll",()=>{window.scrollY>50?g.style.display="flex":g.style.display="none"});console.log("Working ✨");
//# sourceMappingURL=main-DcMYQB75.js.map
