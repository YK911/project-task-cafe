{"version":3,"file":"main-DmiH0hm0.js","sources":["../../src/js/config.js","../../src/js/exercise-category.js","../../src/js/exercises.js","../../src/js/subscribe.js","../../src/js/mob-menu.js","../../src/js/smooth-scroll.js","../../src/js/main.js"],"sourcesContent":["export const MOBILE_FILTER_ITEMS_QTY = 9;\nexport const REST_DISPLAY_FITTER_ITEMS_QTY = 12;\n","export default function getExerciseCategoryNode(\n  category,\n  filterName,\n  clickHandler,\n) {\n  const categoryItem = document\n    .querySelector('#exercise-category-template')\n    .content.cloneNode(true);\n\n  categoryItem.querySelector('h3').textContent = category.name;\n  categoryItem.querySelector('p').textContent = filterName;\n  categoryItem.querySelector('.exercise-category').style.backgroundImage =\n    `url(${category.imgURL})`;\n\n  if (clickHandler) {\n    categoryItem\n      .querySelector('.exercise-category')\n      .addEventListener('click', () => clickHandler(category));\n  }\n\n  return categoryItem;\n}\n","import axios from 'axios';\nimport {\n  MOBILE_FILTER_ITEMS_QTY,\n  REST_DISPLAY_FITTER_ITEMS_QTY,\n} from './config';\n\nimport getExerciseCategoryNode from './exercise-category';\n\nasync function getFilterItemCategories(filter, page = 1, limit = 12) {\n  const options = {\n    params: {\n      filter,\n      page,\n      limit,\n    },\n  };\n  const stringifiedSearch = JSON.stringify(options);\n  const storedValue = sessionStorage.getItem(stringifiedSearch);\n\n  if (storedValue) {\n    return JSON.parse(storedValue);\n  }\n\n  const result = await axios.get(\n    'https://your-energy.b.goit.study/api/filters',\n    options,\n  );\n  const { data } = result;\n\n  if (data) {\n    sessionStorage.setItem(stringifiedSearch, JSON.stringify(data));\n  }\n\n  return data;\n}\n\nfunction getItemsPerPage() {\n  const viewportWidth = window.innerWidth;\n\n  if (viewportWidth <= 375) {\n    return MOBILE_FILTER_ITEMS_QTY;\n  }\n\n  return REST_DISPLAY_FITTER_ITEMS_QTY;\n}\n\nfunction drawCategoriesList(containerSelector, categories, filterName) {\n  const container = document.querySelector(containerSelector);\n\n  if (!container) {\n    console.log('Container not found');\n    return;\n  }\n\n  container.innerHTML = '';\n  const categoriesList = document.createElement('ul');\n\n  categories.forEach((category) => {\n    const categoryNode = getExerciseCategoryNode(category, filterName);\n    const node = document.createElement('li');\n    node.appendChild(categoryNode);\n    categoriesList.appendChild(node);\n  });\n\n  container.appendChild(categoriesList);\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const filterItems = document.querySelectorAll('.exercises-filter-list li');\n\n  filterItems.forEach((item) => {\n    item.addEventListener('click', async () => {\n      filterItems.forEach((filterItem) => {\n        filterItem.classList.remove('exercises-filter-item-active');\n      });\n      item.classList.add('exercises-filter-item-active');\n\n      const buttonValue = item\n        .querySelector('.exercises-filter-button')\n        .textContent.trim();\n      const currentPageNumber = Number(\n        document.querySelector('.exercises-filter-current-page') || 1,\n      );\n      const itemsPerPage = getItemsPerPage();\n      const filterItemCategories = await getFilterItemCategories(\n        buttonValue,\n        currentPageNumber,\n        itemsPerPage,\n      );\n      const { totalPages = 0 } = filterItemCategories;\n\n      console.log('filterItemCategories: ', filterItemCategories);\n      console.log('totalPages: ', totalPages);\n\n      drawCategoriesList(\n        '.exercises-categories',\n        filterItemCategories.results,\n        buttonValue,\n        (category) => console.log(category),\n      );\n    });\n  });\n});\n","import axios from 'axios';\n\nconst form = document.getElementById('subscribtionForm');\nconst formEmail = form.querySelector('input[name=\"email\"]');\nconst formBtn = document.getElementById('subscribtionFormBtn');\n\nconst isValidEmail = (email) => {\n  const emailRegex = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  return emailRegex.test(email);\n};\n\nconst validation = () => {\n  const emailValue = formEmail.value.trim();\n  const isValid = isValidEmail(emailValue);\n  const whiteColor = getComputedStyle(\n    document.documentElement,\n  ).getPropertyValue('--color-white');\n\n  if (isValid) {\n    formEmail.style.borderColor = whiteColor;\n    formBtn.disabled = false;\n  } else {\n    if (emailValue === '') {\n      formEmail.style.borderColor = whiteColor;\n    } else {\n      formEmail.style.borderColor = 'red';\n    }\n    formBtn.disabled = true;\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', validation);\nformEmail.addEventListener('input', validation);\n\nconst subscribe = async (e) => {\n  e.preventDefault();\n\n  try {\n    formBtn.disabled = true;\n\n    const response = await axios.post(\n      'https://your-energy.b.goit.study/api/subscription',\n      JSON.stringify({ email: formEmail.value.trim() }),\n      {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      },\n    );\n\n    form.reset();\n    console.log('Successful operation:', response.status, response.statusText);\n  } catch (err) {\n    if (err.response) {\n      if (err.response.status === 409) {\n        form.reset();\n        console.log(\n          'Subscription already exists:',\n          err.response.status,\n          err.response.statusText,\n        );\n      } else {\n        console.log(\n          'Server Error:',\n          err.response.status,\n          err.response.statusText,\n        );\n      }\n    } else {\n      console.log('Error:', err.message);\n    }\n  }\n};\n\nform.addEventListener('submit', subscribe);\n","const backdrop = document.querySelector('.js-menu-backdrop');\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\nconst mobMenuLink = document.querySelector('.js-menu-link');\n\nfunction toggleMenu() {\n  backdrop.classList.toggle('is-hidden');\n}\n\nfunction onMenuClick(evt) {\n  if (evt.currentTarget === evt.target) {\n    return;\n  }\n  toggleMenu();\n}\n\nfunction handlerBackdrop({ target }) {\n  if (!target.closest('#mob-menu')) {\n    toggleMenu();\n  }\n}\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\nmobMenuLink.addEventListener('click', onMenuClick);\n\nbackdrop.addEventListener('click', handlerBackdrop);\n","const scrollBtn = document.getElementById('scrollBtn');\n\nscrollBtn.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n\n  scrollBtn.blur();\n});\n","import 'the-new-css-reset/css/reset.css';\nimport '../styles/main.css';\n\nimport './exercises';\nimport './subscribe';\nimport './mob-menu';\nimport './smooth-scroll';\n\nconsole.log('Working âœ¨');\n"],"names":["MOBILE_FILTER_ITEMS_QTY","REST_DISPLAY_FITTER_ITEMS_QTY","getExerciseCategoryNode","category","filterName","clickHandler","categoryItem","getFilterItemCategories","filter","page","limit","options","stringifiedSearch","storedValue","result","axios","data","getItemsPerPage","drawCategoriesList","containerSelector","categories","container","categoriesList","categoryNode","node","filterItems","item","filterItem","buttonValue","currentPageNumber","itemsPerPage","filterItemCategories","totalPages","form","formEmail","formBtn","isValidEmail","email","validation","emailValue","isValid","whiteColor","subscribe","e","response","err","backdrop","openMenuBtn","closeMenuBtn","mobMenuLink","toggleMenu","onMenuClick","evt","handlerBackdrop","target","scrollBtn"],"mappings":"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"}